doc_title = "Virtual Paths"
doc_next = ('Hooks', '/hooks/')

{% extends doc.html %}
{% block doc %}

<p>Aspen supports dynamic URLs using virtual paths, which are specially-named
directories on your filesystem. Make a directory on your filesystem called
<code>%name</code>.</p>

<pre>$ mkdir %name</pre>

<p>Then make an <code>index.html</code> <a href="/simplates/">simplate</a> in
there with this content:</p>

<pre>Greetings, {&#123; request.path['name'] }}!</pre>



<p>Now hit <a
    href="http://localhost:8080/aspen/">http://localhost:8080/aspen/</a>. You
should see this:</p>

<a title="Click for full size" href="aspen.png" class="screencap"><img
    src="aspen.small.png" /></a>


<p>Now hit <a
    href="http://localhost:8080/python/">http://localhost:8080/python/</a>. You
should see:</p>

<a title="Click for full size" href="python.png" class="screencap"><img
    src="python.small.png" /></a>


<p>Get it?</p>


<h3>Typecasting</h3>

<p>By default, path parts are decoded to Python unicode objects using ASCII.
You can also typecast path parts to integers. Make a directory called <code
    style="white-space: nowrap">%year.int</code>.</p>

<pre>$ mkdir "%year.int"</pre>

<p>Then put an <code>index.html</code> in there with this content:

<pre>Tonight we're going to party like it's {&#123; request.path['year'] }}!</pre>

<p>Now hit <a
    href="http://localhost:8080/1999/">http://localhost:8080/1999/</a>.  What
do you get?</p>

<a title="Click for full size" href="oops.png" class="screencap"><img
    src="oops.small.png" /></a>

<p>Wait ... where's the party?</p>


<h3>Gotcha!</h3>

<p>You can only have one variable directory per level. If you have more than
one, the case-insensitive alphabetically first is used. Get it?</p>

<p>Remove the <code>%name</code> directory:</p>

<pre>$ rm -rf %name</pre>

<p>Now refresh, and you should see:</p>

<a title="Click for full size" href="1999.png" class="screencap"><img
    src="1999.small.png" /></a>



<p>That&rsquo;s better. Yay filesystem!</p>

{% end %}


